package cloud.autotests.tests.role;import cloud.autotests.tests.TestBase;import io.qameta.allure.Description;import org.junit.jupiter.api.DisplayName;import org.junit.jupiter.api.Tag;import org.junit.jupiter.api.Test;import static com.codeborne.selenide.Condition.*;import static com.codeborne.selenide.Selectors.byText;import static com.codeborne.selenide.Selenide.*;import static io.qameta.allure.Allure.step;import static org.assertj.core.api.Assertions.assertThat;public class RoleGuestTest extends TestBase {    @Tag("demowebshop")    @Test    @Description("Открытие формы авторизации по E-mail ")    @DisplayName("Regression Testing")    void openingLoginForm() {        step("Open 'https://stage.onlc.market/',Открываем любую страницу сайта.", () -> {            open(url);            clearBrowserCookies();            refresh();            sleep(1000);        });    }    @Tag("demowebshop")    @Test    @Description("Autogenerated test")    @DisplayName("Page title should have header text")    void titleTest() {        step("Open url 'https://stage.onlc.market/'", () ->                open(url));        step("Page title should have text 'Магазин Малых Закупок'", () -> {            String expectedTitle = "Магазин Малых Закупок";            String actualTitle = title();            assertThat(actualTitle).isEqualTo(expectedTitle);        });    }    @Tag("demowebshop")    @Test    @Description("")    @DisplayName("")    void validDataTest() {        step("Open 'https://stage.onlc.market/", () -> {            open(url);            sleep(4000);        });        step("Нажать на кнопку Личный кабинет ", () -> {            $(openPersonal).click();            sleep(2000);        });        step("Ввести в поле “E-mail“ почтовый адрес пользователя, который не зарегистрирован на площадке", () -> {            $("#email").setValue("kkey@test.test");            sleep(2000);        });        step("Ввести пароль", () -> {            $("#password").setValue("Aa123456");            sleep(2000);        });        step("Нажать на Войти", () -> {            $(".button___StyledAntButton-sc-1vj16k3-1").click();            sleep(5000);        });        step("Получить результат", () -> {            $(".UserHeaderButton___StyledParagraph-sc-6zbpjc-0").shouldHave(text("kkey@test.test  kkey@test.test"));            sleep(3000);        });        step("Получить результат", () -> {            $("[placeholder='Поиск по наименованию оферты']").setValue("Термопистолет Makita HG551VK").pressEnter();            sleep(4000);        });        step("Получить результат", () -> {            $(".query___StyledButton-sc-12ah1wk-0").click();            sleep(7000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 1"));            sleep(3000);        });        step("Получить результат", () -> {            $(".card___StyledTooltipParagraph-sc-eydu8b-5").shouldHave(text("Термопистолет Makita HG551VK"));        });        step("Получить результат", () -> {            $(".card___StyledCol4-sc-eydu8b-8").shouldHave(text("ОКПД2:"));        });        step("Получить результат", () -> {            $(".okpd2___StyledTooltipParagraph-sc-1xrq0y3-0").shouldHave(text("33.1"));        });        step("Получить результат", () -> {            $(".card___StyledCol6-sc-eydu8b-11").shouldHave(text("Поставщик:"));        });        step("Получить результат", () -> {            $(".card___StyledTooltipParagraph2-sc-eydu8b-13").shouldHave(text("ИП Святой Кошмар Демокритович"));        });        step("Получить результат", () -> {            $(".card___StyledSpan-sc-eydu8b-14").shouldHave(text("Действует до:"));        });        step("Получить результат", () -> {            $(".card___StyledSpan3-sc-eydu8b-16").shouldHave(text("Ед. изм:"));        });        step("Получить результат", () -> {            $(".card___StyledSpan4-sc-eydu8b-17").shouldHave(text("ШТ"));        });        step("Получить результат", () -> {            $(".card___StyledSpan7-sc-eydu8b-20").shouldHave(text("Регион:"));        });        step("Получить результат", () -> {            $(".card___StyledSpan8-sc-eydu8b-21").shouldHave(text("Респ Татарстан"));        });        step("Получить результат", () -> {            $(".card___StyledMoney-sc-eydu8b-26").shouldHave(text("6 000,00 руб."));        });        step("Получить результат", () -> {            $(".card___StyledRow5-sc-eydu8b-27").shouldHave(text("НДС 20%"));        });        step("Получить результат", () -> {            $(".bottom-actions___StyledAddToCartButton-sc-147p2jd-2").shouldHave(text("В КОРЗИНУ")).click();            sleep(2000);        });        step("Получить результат", () -> {            $(".ant-input-number-handler-up").click();        });        step("Получить результат", () -> {            $(".ant-input-number-handler-down").doubleClick();        });        step("Получить результат", () -> {            $(".invite___StyledSpan2-sc-1lloo4j-3").click();        });        step("Получить результат", () -> {            $(".ant-tooltip-placement-bottomRight").shouldHave(text("Функционал в разработке"));            sleep(5000);        });        step("Получить результат", () -> {            $(".ant-input-clear-icon").click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("1234567891").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 33619"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("ОБО Демо").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 33619"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("6646719841").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 2"));            sleep(2000);        });        step("Получить результат", () -> {            $(".button___StyledAntButton-sc-1vj16k3-1").shouldHave(text("Очистить")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("\n" +                    "ПАО \"Преграда\"\"Юридическое лицо иностранного государства\"").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 2"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("ПАО \"Прегкраткое \"Юридическое лицо иностранного государства\"").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 2"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("185766754751").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 3"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("ИП Наскальный Рыцарь Байесович").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 3"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_providerQuery").setValue("ИП Наскальный").pressEnter();            sleep(30000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 3"));            sleep(2000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();        });        step("Получить результат", () -> {            $("#HomeOffersForm_priceFrom").setValue("16");            sleep(3000);        });        step("Получить результат", () -> {            $("#HomeOffersForm_priceTo").setValue("16").pressEnter();            sleep(3000);        });        step("Получить результат", () -> {            $(".card___StyledRow4-sc-eydu8b-24").shouldHave(text("16,00"));            sleep(3000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol2-sc-5z57z5-2").shouldHave(text("Найдено: 882"));            sleep(3000);        });        step("Получить результат", () -> {            $(".toolbar-2___StyledCol3-sc-5z57z5-3").shouldHave(text("Очистить фильтр")).click();            sleep(3000);        });        step("Получить результат", () -> {            $("[aria-controls='HomeOffersForm_regions_list']").click();            sleep(3000);        });        step("Получить результат", () -> {            $(".ant-select-selection-search-input").setValue("16  Респ Татарстан").pressEnter()                    .setValue("02  Респ Башкортостан").pressEnter()                    .setValue("03  Респ Бурятия").pressEnter()                    .setValue("04  Респ Алтай").pressEnter()                    .setValue("99  г Байконур").pressEnter();        });        step("Получить результат", () -> {            $(".query___StyledButton-sc-12ah1wk-0").click();            sleep(5000);        });        step("Получить результат", () -> {            $(".card___StyledSpan8-sc-eydu8b-21").shouldHave(text("Респ Адыгея, Респ Башкортостан"));        });        step("Получить результат", () -> {            $(".button___StyledAntButton-sc-1vj16k3-1").shouldHave(text("Очистить")).click();            sleep(3000);        });        step("Получить результат", () -> {            $(".ant-select-single").shouldHave(text("По дате публикации")).click();            sleep(3000);        });        step("Получить результат", () -> {            $(byText("По цене")).click();            sleep(5000);        });        step("Получить результат", () -> {            $(".card___StyledMoney-sc-eydu8b-26").shouldHave(text("не указана"));            sleep(3000);        });        step("Получить результат", () -> {            $(".order___StyledSelect-sc-1e7hxco-0").click();            sleep(3000);        });    }    @Tag("demowebshop")    @Test    @Description("Открытие формы авторизации по E-mail ")    @DisplayName("Regression Testing")    void openOfferCard() {        step("Open 'https://stage.onlc.market/", () -> {            open(url);            sleep(4000);        });        step("Нажать на кнопку Личный кабинет ", () -> {            $(openPersonal).click();            sleep(2000);        });        step("Ввести в поле “E-mail“ почтовый адрес пользователя, который не зарегистрирован на площадке", () -> {            $("#email").setValue("kkey@test.test");            sleep(2000);        });        step("Ввести пароль", () -> {            $("#password").setValue("Aa123456");            sleep(2000);        });        step("Нажать на Войти", () -> {            $(".button___StyledAntButton-sc-1vj16k3-1").click();            sleep(5000);        });        step("Получить результат", () -> {            $(".UserHeaderButton___StyledParagraph-sc-6zbpjc-0").shouldHave(text("kkey@test.test  kkey@test.test"));            sleep(3000);        });        step("Получить результат", () -> {            $("#HomeOffersForm_query").setValue("окпд");            sleep(2000);        });        step("Получить результат", () -> {            $(".card___StyledTooltipParagraph-sc-eydu8b-5").click();            sleep(2000);        });        step("Проверить путь 'Главная'", () -> {            $(".ant-breadcrumb-link").shouldHave(text("Главная"));        });        step("Проверить путь 'Главная'", () -> {            $("[href=\"/home/offer/list/\"]").shouldHave(text("Оферты"));        });        step("Проверить путь 'Главная'", () -> {            $(".breadcrumbs___StyledSpan-sc-nvq3lj-0").shouldHave(text("окпд"));        });        step("Проверить путь 'Главная'", () -> {            $("[href=\"/home/organisations/1/\"]").shouldHave(text("ООО \"Карта\""));        });        step("Проверить путь 'Главная'", () -> {            $(".key").shouldHave(text("Артикул"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop='sku']").shouldHave(text("GVXp8FLekA8s"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(1).shouldHave(text("ОКПД2"));        });        step("Проверить путь 'Главная'", () -> {            $(".popover__Popover-sc-mdy8u9-0").shouldHave(text("33.2")).hover();            $(".ant-popover-open").shouldHave(text("33.2"));        });        step("Проверить путь 'Главная'", () -> {            $$(".popover__Popover-sc-mdy8u9-0").get(1).shouldHave(text("33.1")).hover();            $(".ant-popover-open").shouldHave(text("33.1"));        });        step("Проверить путь 'Главная'", () -> {            $$(".popover__Popover-sc-mdy8u9-0").get(2).shouldHave(text("33")).hover();            $(".ant-popover-open").shouldHave(text("33"));        });        step("Проверить путь 'Главная'", () -> {            sleep(3000);            $$(".key").get(2).shouldHave(text("Дата публикации"));        });        step("Проверить путь 'Главная'", () -> {            $$(".value").get(2).shouldHave(text("18.07.2022"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(3).shouldHave(text("Ед. измерения"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop=\"eligibleQuantity\"]").shouldHave(text("Действующее вещество: Штука"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(4).shouldHave(text("Регион"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop=\"eligibleRegion\"]").shouldHave(text("Респ Адыгея, Респ Башкортостан"));        });        step("Проверить путь 'Главная'", () -> {            $(".id___StyledDiv6-sc-u7v2lr-7").shouldHave(text("45 900,00 руб."));        });        step("Проверить путь 'Главная'", () -> {            $(".id___StyledDiv7-sc-u7v2lr-10").shouldHave(text("В том числе НДС 10%"));        });        step("Проверить путь 'Главная'", () -> {            $(".id___StyledDiv8-sc-u7v2lr-11").shouldHave(text("Скоро закончится"));        });        step("Проверить путь 'Главная'", () -> {            $(".id___StyledDiv8-sc-u7v2lr-11").shouldHave(text("Скоро закончится"));        });        step("Проверить путь 'Главная'", () -> {            $(".id___StyledDiv9-sc-u7v2lr-12").shouldHave(text("В КОРЗИНУ"));            sleep(2000);        });        step("Проверить путь 'Главная'", () -> {            $(".OfferCompareAddButton___StyledButton-sc-1gnmu7t-1").shouldBe(visible);        });        step("Проверить путь 'Главная'", () -> {            $(".file___StyledSpan-sc-14epk5q-1").shouldBe(visible);        });        step("Получить результат", () -> {            $("[aria-controls='rc-tabs-0-panel-/home/purchase/list']").shouldHave(text("Закупки")).click();            sleep(3000);        });        /*step("Получить результат", () -> {            $("[aria-owns='HomeOffersForm_okpd_list']").click();            sleep(3000);        });        step("Получить результат", () -> {            $("#HomeOffersForm_okpd").setValue("33");            sleep(4000);            $$(".ant-checkbox").first().click(); //кликнуть на первый элемент            sleep(4000);            $(".okpd2-tag___StyledParagraph-sc-1f3mzh9-0").shouldHave(text("10.51.52.215  Сметана от 33,0 % до 42,0 % жирности"));            sleep(4000);        });        step("Получить результат", () -> {            $(".ant-empty-description").shouldHave(text("По Вашему запросу ничего не найдено. Задайте другие параметры поиска."));        });*/    }    @Tag("demowebshop")    @Test    @Description("Открытие формы авторизации по E-mail ")    @DisplayName("Regression Testing")    void openingL8oginForm() {        step("Open 'https://stage.onlc.market/", () -> {            open(url);            sleep(4000);        });        step("Получить результат", () -> {            $("#HomeOffersForm_query").setValue("окпд");            sleep(2000);        });        step("Получить результат", () -> {            $(".card___StyledTooltipParagraph-sc-eydu8b-5").click();            sleep(2000);        });        step("Проверить путь 'Главная'", () -> {            $("[href=\"/home/organisations/1/\"]").shouldHave(text("ООО \"Карта\""));        });        step("Проверить путь 'Главная'", () -> {            $(".key").shouldHave(text("Артикул"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop='sku']").shouldHave(text("GVXp8FLekA8s"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(1).shouldHave(text("ОКПД2"));        });        step("Проверить путь 'Главная'", () -> {            $(".popover__Popover-sc-mdy8u9-0").shouldHave(text("33.2")).hover();            $(".ant-popover-open").shouldHave(text("33.2"));        });        step("Проверить путь 'Главная'", () -> {            $$(".popover__Popover-sc-mdy8u9-0").get(1).shouldHave(text("33.1")).hover();            $(".ant-popover-open").shouldHave(text("33.1"));        });        step("Проверить путь 'Главная'", () -> {            $$(".popover__Popover-sc-mdy8u9-0").get(2).shouldHave(text("33")).hover();            $(".ant-popover-open").shouldHave(text("33"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(2).shouldHave(text("Дата публикации"));        });        step("Проверить путь 'Главная'", () -> {            $$(".value").get(2).shouldHave(text("14.07.2022"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(3).shouldHave(text("Ед. измерения"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop=\"eligibleQuantity\"]").shouldHave(text("Действующее вещество: Штука"));        });        step("Проверить путь 'Главная'", () -> {            $$(".key").get(4).shouldHave(text("Регион"));        });        step("Проверить путь 'Главная'", () -> {            $("[itemprop=\"eligibleRegion\"]").shouldHave(text("Респ Адыгея, Респ Башкортостан"));        });    }   /* @Tag("demowebshop")    @Test    @Description("Открытие формы авторизации по E-mail ")    @DisplayName("Regression Testing")    void opeeningL8oginForm() {        step("Open 'https://stage.onlc.market/',Открываем любую страницу сайта.", () -> {            open(url);        });        step("Получить результат", () -> {            $("[aria-owns='HomeOffersForm_okpd_list']").click();            sleep(4000);        });        step("Получить результат", () -> {            $("#HomeOffersForm_okpd").setValue("33");            sleep(4000);           $$(".ant-checkbox").first().click(); //кликнуть на первый элемент            sleep(4000);            $(".okpd2-tag___StyledParagraph-sc-1f3mzh9-0").shouldHave(text("10.51.52.215  Сметана от 33,0 % до 42,0 % жирности"));            sleep(4000);        });        *//*step("Получить результат", () -> {            $(".ant-empty-description").shouldHave(text("По Вашему запросу ничего не найдено. Задайте другие параметры поиска."));        });*//*    }*/    @Tag("demowebshop")    @Test    @Description("Открытие формы авторизации по E-mail ")    @DisplayName("Regression Testing")    void openingPurchase() {        step("Open 'https://stage.onlc.market/',Открываем любую страницу сайта.", () -> {            open(urlPurchase);            sleep(3000);        });        step("Открыть страницу Закупки", () -> {            $(".title___StyledCol2-sc-1x77gcv-3").shouldHave(text("Закупки")).click();        });        step("Ввести в поиск, наименование закупки",( ) ->{            $("#HomePurchaseForm_query").setValue("Бутылка");        });        step("Нажать на кнопку найти, лупа", () -> {            $(".query___StyledButton-sc-k4w9i7-0").click();        });        step("Проверить наименование",() ->{            $(".card___StyledRow2-sc-mxaahj-3").shouldHave(text("Бутылка"));        });        step("Нажать на кнопку удалить",()->{            $(".ant-input-clear-icon").click();        });        step("Ввести в поиск, номер закупки",( ) ->{            $("#HomePurchaseForm_query").setValue("1002341000004");        });        step("Нажать на кнопку найти, лупа", () -> {            $(".query___StyledButton-sc-k4w9i7-0").click();        });        step("Проверить номер",()->{            $(".card___StyledCol4-sc-mxaahj-8").shouldHave(text("1002341000004"));        });        step("Проверка Начальная стоимость",() ->{            $(".card___StyledCol9-sc-mxaahj-14").shouldHave(text("Начальная стоимость"));        });        step("Проверка не указана",() -> {            $(".card___StyledMoney-sc-mxaahj-16").shouldHave(text("не указана"));        });        step("",() ->{            $("[href=\"/home/purchase/1002341000004/?tab=compositions\"]").shouldHave(text("Подано оферт: 4"));        });        step("", () ->{            $(".card___StyledCol6-sc-mxaahj-10").shouldHave(text("Вид закупки"));        });        step("",()->{            $(".card___StyledCol7-sc-mxaahj-11").shouldHave(text("Открытая закупка с запросом оферт"));        });    }}